@page "/customer"
@inject Models.ICustomerCreateViewModel viewModel

<h1>Create Customer</h1>

<EditForm Model="viewModel.NewCustomer" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        <h3>Name</h3>
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.FirstName" />
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.LastName" />
    </div>
    <div class="form-group">
        <h3>Address</h3>
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.Street" />
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.City" />
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.State" />
        <InputText class="form-control" bind-Value="@viewModel.NewCustomer.PostalCode" />
    </div>
    <br />
    <button class="btn btn-primary" type="submit">Submit</button>
    <button class="btn" type="button" @onclick="@ReturnToList">Cancel</button>
</EditForm>


@code {

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }

    private void HandleValidSubmit()
    {
        viewModel.Create();
        ReturnToList();
    }

    private void ReturnToList()
    {
        return;
    }

}
